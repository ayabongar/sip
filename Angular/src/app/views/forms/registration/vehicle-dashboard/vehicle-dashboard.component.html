
<div class="card">       
  <app-client-information *ngIf="childClientObject" [childClientObject]="childClientObject"></app-client-information>    

  
 </div>
<ng-template #content let-modal>
      
     
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">VEHICLE EDITOR</h4>
      <button type="button" class="btn btn-outline-dark" (click)="close()">Close</button>
    </div>
    <div class="modal-body">
    <app-vehicle-editor *ngIf="vehicleObject" (bindGrindView)="bindGrindView()" [vehicleObject]="vehicleObject"></app-vehicle-editor>
        
    </div>
    
  </ng-template>
    <!---Dashboard-->
    
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <i class="fa fa-align-justify"></i> 
          <button type="submit" class="btn btn-sm btn-primary" (click)="open(content)"
          data-backdrop="static" data-keyboard="false" ><i class="cui-pencil icons"></i> Add New Vehicle</button>
          <input matInput (keyup)="applyFilter($event.target.value)"  class="form-control w-25 p-3 border-bottom pull-right" placeholder="Search">
        
        </div>
        <div class="card-body">  
    <div class="example-container mat-elevation-z8">
    
      <mat-table [dataSource]="dataSource" matSort >  
        <ng-container matColumnDef="select">
          <mat-header-cell *matHeaderCellDef>
            <mat-checkbox (change)="$event ? masterToggle() : null"
                          [checked]="selection.hasValue() && isAllSelected()"
                          [indeterminate]="selection.hasValue() && !isAllSelected()">
            </mat-checkbox>
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <mat-checkbox (click)="$event.stopPropagation()"
                          (change)="$event ? selection.toggle(row) : null"
                          [checked]="selection.isSelected(row)">
            </mat-checkbox>
          </mat-cell>
        </ng-container>
               
        <ng-container matColumnDef="ClientAllias">
          <mat-header-cell *matHeaderCellDef mat-sort-header> <b>Client Name </b></mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.ClientAllias}} </mat-cell>
        </ng-container>
        <!-- ID Column -->
        <ng-container matColumnDef="VehicleRegistration" class="header">
          <mat-header-cell *matHeaderCellDef mat-sort-header><b>VehicleReg.No </b> </mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.VehicleRegistration}} </mat-cell>
        </ng-container>   
       
        <ng-container matColumnDef="VehicleRefNumber" class="header">
            <mat-header-cell *matHeaderCellDef mat-sort-header><b>Ref No. </b> </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.VehicleRefNumber}} </mat-cell>
          </ng-container> 
          <ng-container matColumnDef="VehicleCancellationDate" class="header">
            <mat-header-cell *matHeaderCellDef mat-sort-header><b>DeregistrationDate </b> </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.VehicleCancellationDate}} </mat-cell>
          </ng-container> 

        <ng-container matColumnDef="VehicleStatus">
          <mat-header-cell *matHeaderCellDef mat-sort-header><b>  Vehicle Status</b> </mat-header-cell>
          <mat-cell *matCellDef="let row" >             
            <span *ngIf="row.VehicleStatus =='Active'" class="badge badge-success">Active</span>
            <span *ngIf="row.VehicleStatus =='InActive'" class="badge badge-danger">In-Active</span>
          </mat-cell>
        </ng-container> 
        <ng-container matColumnDef="actions">
          <mat-header-cell  *matHeaderCellDef ></mat-header-cell>
          <mat-cell *matCellDef="let row" >
            <button type="submit" class="btn btn-sm btn-primary" (click)="edit(content,row.VehicleID)" ><i class="fa fa-file"></i> View </button>
          </mat-cell>
        </ng-container>    
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;">
        </mat-row>
      </mat-table>
    
      <mat-paginator></mat-paginator>
    </div>
    
    
  </div>
  </div>
  </div>
  
  


